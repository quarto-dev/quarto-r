% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spin.R
\name{add_spin_preamble}
\alias{add_spin_preamble}
\title{Add spin preamble to R script}
\usage{
add_spin_preamble(script)
}
\arguments{
\item{script}{Path to the R script file}
}
\value{
Invisibly returns the script path if modified, otherwise invisible NULL
}
\description{
Adds a minimal spin preamble to an R script file if one doesn't already exist.
The preamble includes a title derived from the filename and is formatted as
a YAML block suitable preprended with \verb{#'} for \code{\link[knitr:spin]{knitr::spin()}}.
}
\details{
This is useful to prepare R scripts for use with
Quarto Script rendering support.
See \url{https://quarto.org/docs/computations/render-scripts.html#knitr}
}
\section{Preamble format}{

For a script named \code{analysis.R}, the function adds this preamble:

\if{html}{\out{<div class="sourceCode">}}\preformatted{#' ---
#' title: analysis
#' ---
#'

# Original script content starts here
}\if{html}{\out{</div>}}

This is the minimal preamble required for Quarto Script rendering, so that
\href{https://quarto.org/docs/computations/execution-options.html#engine-binding}{Engine Bindings} works.
}

